<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>Railsway 09 -- Rails performance</title>
    <link rel="stylesheet" type="text/css" href="/stylesheets/reset.css" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/960gs.css" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/syntax.css" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/default.css" />
    
    <script type="text/javascript" src="/javascripts/jquery-1.3.2.min.js"></script>
    <script type="text/javascript" src="/javascripts/jquery.driveby.js"></script>
    <script type="text/javascript">
      jQuery(document).ready(function() {
        $('#followme').driveBy({
          mouseenter: {
            'opacity': 100
          },
          radius: 250
        }).css('opacity', 0);
        $('#forkme').driveBy({
          mouseenter: {
            'opacity': 100
          }
        }).css('opacity', 0);
      });
    </script>
  </head>
  <body id="body">
    <div id="header" class="centered">
      <div id="myhead"></div>
      <a href="http://github.com/Overbryd" target="_blank" id="forkme">Fork me on Github</a>
      <div id="birdy">
        <a href="#" id="followme">Follow me on Twitter</a>
      </div>
      <div class="inner-shadow"></div>
    </div>
    <div id="background" class="centered clearfix">
      
      <div class="container_12 centered clearfix">
        <div id="content" class="grid_9 clearfix">
          <div class="top bg"></div>
          <div class="middle bg clearfix">
            <div class="inner">
<div class="post">
  <h1>Railsway 09 -- Rails performance</h1>
  <p>Perceptive performance is more important than application performance.</p>
<ul>
	<li>Use yslow</li>
	<li>Use ETags and Last-Modified together</li>
	<li>Use Expires in situation where it is possible (batch generated pages)</li>
	<li>Tools: squid-cache.ord, varnish, akamai, Rack-Cache (&lt;- !)</li>
	<li>When you&#8217;ve used <span class="caps">HTTP</span> caching to it&#8217;s limits, still there is Rails Caching</li>
	<li>Use Fragment Caching for expensive partials</li>
	<li>Use Action Caching</li>
	<li>Use Model Caching (available trough various plugins)</li>
	<li>Memchached is kind of self healing</li>
	<li>Cache Generation is very important, even more important is the generation of the cache key (combination of &#8216;name&#8217;, &#8216;unique identifier&#8217;, &#8216;kind of a version number&#8217;)</li>
</ul>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">handle_etag</span>
  <span class="n">fresh_when</span> <span class="ss">:etag</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="vi">@user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="vi">@user</span><span class="o">.</span><span class="n">updated_at</span><span class="o">]</span>
<span class="k">end</span>
</pre>
</div><ul>
	<li>Last-Modified</li>
</ul>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">handle_last_modified</span>
  <span class="n">fresh_when</span> <span class="ss">:last_modified</span> <span class="o">=&gt;</span> <span class="n">last_updated_time</span>
<span class="k">end</span>
</pre>
</div>
</div>
<div class="date sidebox">
  <span class="title"></span>
  <span class="day"></span>
</div>
<div class="share sidebox">
  <span class="title">Share</span>
</div>
<div class="opinions sidebox">
  <span class="title">Opinions</span>
  <span class="count">0</span>
  <a href="#">add yours</a>
</div></div>
          </div>
          <div class="bottom bg"></div>
        </div>
      
        <div id="sidebar" class="grid_3">
          <div class="inner">
            <div id="aboutme" class="clearfix">
              <div id="coffeemug"></div>
              <p class="small">
                <img src="http://gravatar.com/avatar/171de85d4d79cb7afe725174fb099137.jpg" width="40px" height="40px" alt="My Gravatar" align="left"/>Hy, my name is Lukas Rieder.<br/><br/>
                You can <a href="contact.html">Contact me here</a>.
              </p>
            </div>
            <div id="manifesto">
              <h3>Manifesto</h3>
              <p>I've become a freelancer, because I like to monetize the things I love to do. Freelancing gives me enough responsibility to feel passionate about what I'm doing.
              </p><p>
              Human beeings are not made to follow strict day to day routines. Humans don't fit into robot stuff. Their just too weak, too sloppy or too sleepy to do repetive work.
              For this reason I seek for diversity in what I'm doing.
              </p><p>
              I like people who think forward. I feel comfortable in a sort of positive, future like mindset. Not the predictive stuff. That's odd. Much more the "Hey, I like to make my own way" or "I've never heard of 'Gorilla-Sandboarding-Break-A-Leg' but I'll give it a try".
              </p><p>
              We will probably never get along if you can't find your own motivation not to sleep all day.
              </p><p>
              Work is something that has to be done. Quality and Performance are indicators I'm definitely aware of. But let us talk about the different ways to achieve these goals. I'll listen to your way if you consider mine.
              </p><p>
              Solar panels should be everywhere.</p>
            </div>
          </div>
        </div>
      </div>
          
    </div>
  </body>
</html>